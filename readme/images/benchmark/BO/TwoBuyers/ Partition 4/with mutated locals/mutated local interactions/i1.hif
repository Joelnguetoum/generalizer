seq(
	loopS(
		seq(
			a -- query ->| [44],
			price -> a [45],
			alt(
				seq(
					a -- split -> b,
					alt(
						seq(
							b -- yes -> a,
							a -- buy ->| [50]
						),
						seq(
							b -- no -> a,
							a -- no ->| [52]
						)
					)
				),
				seq(
					a -- cancel -> b,
					a -- no ->| [47]
				)
			)
		)
	),
	a -- done ->| [53],
	a -- done -> b
)