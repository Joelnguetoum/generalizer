seq(
	loopS(
		seq(
			a -- query -> s,
			s -- price -> a,
			alt(
				seq(
					a -- cancel ->| [46],
					a -- no -> s
				),
				seq(
					a -- split ->| [48],
					alt(
						seq(
							no -> a [51],
							a -- no -> s
						),
						seq(
							yes -> a [49],
							a -- buy -> s
						)
					)
				)
			)
		)
	),
	a -- done -> s,
	a -- done ->| [54]
)