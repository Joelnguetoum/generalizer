loopS(
	seq(
		request -> l1 [55],
		l1 -- askInfo ->| [56],
		provInf -> l1 [57],
		alt(
			seq(
				l1 -- acceptance ->| [59],
				l1 -- req ->| [60],
				alt(
					seq(
						∅,
						recMoneyPossM -> l3 [62],
						l3 -- paymentM ->| [63]
					),
					seq(
						∅,
						recMoneyPossT -> l3 [65],
						l3 -- paymentT ->| [66]
					)
				),
				par(
					paymentPrivateFee -> l3 [67],
					l1 -- paymentPublicFee -> l3
				),
				l3 -- done -> l1
			),
			l1 -- refusal ->| [58]
		)
	)
)