loopS(
	seq(
		par(
			l2 -- busy ->| [5],
			alt(
				seq(
					l0 -- bwin ->| [1],
					close -> l2 [2]
				),
				seq(
					l0 -- cwin -> l2,
					l2 -- blose ->| [4]
				)
			)
		),
		l2 -- msg -> l0,
		sig -> l0 [7],
		l0 -- free ->| [8]
	)
)