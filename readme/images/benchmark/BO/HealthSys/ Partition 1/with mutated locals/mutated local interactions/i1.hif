loopS(
	seq(
		l1 -- sendData ->| [15],
		subscribed -> l2 [16],
		alt(
			seq(
				l2 -- ok ->| [19],
				∅,
				∅,
				fwd -> l4 [22],
				l4 -- fwdOk ->| [23],
				l4 -- helpReq ->| [24],
				provideService -> l1 [25]
			),
			seq(
				l2 -- nok ->| [17],
				notSubscribed -> l1 [18]
			)
		)
	)
)